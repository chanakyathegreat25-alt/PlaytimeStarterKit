[gd_scene load_steps=13 format=3 uid="uid://pr2tcu7w7gqf"]

[ext_resource type="Material" uid="uid://dl7krlcnai0qx" path="res://Level/Assets/Materials/ProtoDark.tres" id="1_a2sob"]
[ext_resource type="PackedScene" uid="uid://dkty77argxwyc" path="res://Player/player.tscn" id="2_hnawm"]
[ext_resource type="Script" uid="uid://cr2jbisbr4qh3" path="res://Objects/Characters/MonsterAI/monster_activator.gd" id="2_uc4m6"]
[ext_resource type="PackedScene" uid="uid://c6t324pe1kky2" path="res://Objects/Characters/MonsterAI/VisualTemplates/Yarnaby/YarnabyTemplate.tscn" id="3_hnawm"]
[ext_resource type="Script" uid="uid://dhjsvwgpbf3bx" path="res://Objects/Gameplay/event_trigger.gd" id="4_12lo4"]
[ext_resource type="PackedScene" uid="uid://xmerc1mcwygl" path="res://Player/Grabpack/Hands/green.tscn" id="4_lyuqb"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_12lo4"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_uc4m6"]
sky_material = SubResource("ProceduralSkyMaterial_12lo4")

[sub_resource type="Environment" id="Environment_lyuqb"]
background_mode = 2
sky = SubResource("Sky_uc4m6")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hnawm"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="Curve3D" id="Curve3D_12lo4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -10.2933, 0.172053, -0.0689981, 0, 0, 0, 0, 0, 0, 0.0499595, 0.171997, -0.0434783, 0, 0, 0, 0, 0, 0, 13.6805, 0.171997, -0.195791, 0, 0, 0, 0, 0, 0, 13.5599, 0.171997, 2.14623, 0, 0, 0, 0, 0, 0, 13.6314, 6.00217, 19.0459, 0, 0, 0, 0, 0, 0, 12.3465, 6.0022, 21.7904, 0, 0, 0, 0, 0, 0, -80.3759, 6.0022, 21.6396),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="BoxShape3D" id="BoxShape3D_uc4m6"]
size = Vector3(3.6, 1, 3.6)

[node name="exampleCHASE" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lyuqb")

[node name="csg" type="Node" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="csg"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.75, -0.1, -0.25)
use_collision = true
size = Vector3(28.1, 0.2, 4.8)
material = ExtResource("1_a2sob")

[node name="CSGBox3D4" type="CSGBox3D" parent="csg"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35, 5.75462, 21.655)
use_collision = true
size = Vector3(102, 0.2, 5.1)
material = ExtResource("1_a2sob")

[node name="CSGBox3D3" type="CSGBox3D" parent="csg"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.65, -0.1, -0.25)
use_collision = true
size = Vector3(4.7, 0.2, 4.8)
material = ExtResource("1_a2sob")

[node name="CSGBox3D5" type="CSGBox3D" parent="csg"]
transform = Transform3D(1, 0, 0, 0, 0.944508, 0.328488, 0, -0.328488, 0.944508, 13.65, 2.79044, 10.5042)
use_collision = true
size = Vector3(4.7, 0.2, 18.2)
material = ExtResource("1_a2sob")

[node name="CSGBox3D2" type="CSGBox3D" parent="csg"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.15, 3.9, -0.25)
use_collision = true
size = Vector3(4.3, 8.2, 4.8)
material = ExtResource("1_a2sob")

[node name="CSGBox3D" type="CSGBox3D" parent="csg/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.25, 1.5, 0)
operation = 2
size = Vector3(2.5, 2.8, 2.8)
material = SubResource("StandardMaterial3D_hnawm")

[node name="MonsterActivator" type="Node" parent="." node_paths=PackedStringArray("monster")]
script = ExtResource("2_uc4m6")
monster = NodePath("../Yarnaby")
state = 2
node = NodePath("../EventTrigger")
node_signal = "triggered"
metadata/_custom_type_script = "uid://cr2jbisbr4qh3"

[node name="Player" parent="." instance=ExtResource("2_hnawm")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
flashlight = true
flashlight_togglable = true
starting_grabpack = 1
enabled_hands = Array[PackedScene]([ExtResource("4_lyuqb")])

[node name="Yarnaby" parent="." node_paths=PackedStringArray("path_follow_node") instance=ExtResource("3_hnawm")]
transform = Transform3D(0.00283367, 5.365e-06, -0.999993, -2.84404e-08, 0.999999, 5.36493e-06, 0.999993, 1.32378e-08, 0.00283367, -11.6, 1.8, 0)
path_follow_node = NodePath("../Path3D/PathFollow3D")
path_move_action = 0
path_finish_state = 3
look_at_player_on_path = true
base_speed_on_player = true
speed_divider = 2.0

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_12lo4")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(-0.00246742, 5.41397e-06, -0.999992, 4.54745e-13, 0.999998, 5.41397e-06, 0.999992, 1.33582e-08, -0.00246742, -10.2933, 0.172053, -0.0689981)

[node name="EventTrigger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.2, 1.3, 0)
script = ExtResource("4_12lo4")
metadata/_custom_type_script = "uid://dhjsvwgpbf3bx"

[node name="CollisionShape3D" type="CollisionShape3D" parent="EventTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3, 0, 0)
shape = SubResource("BoxShape3D_uc4m6")

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.6, 1.8, 0)
